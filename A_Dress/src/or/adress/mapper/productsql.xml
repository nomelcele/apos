<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="product">


	<!-- 완료 -->
	<update id="product_stockedit" parameterType="map">
	update stock set sto_amount=#{pamount} where sto_pronum=#{pronum} and sto_shopnum=#{shopnum} and sto_size=#{psize}
	</update>


	<!-- 완료 -->
	<insert id="product_insert" parameterType="provo">
	insert into product values(product_seq.nextVal,#{pro_name},#{pro_code},#{pro_barcode},#{pro_img},sysdate,#{pro_price})
	</insert>
	
	<!-- 모르겠음 / 물어볼 것 -->
	<!-- 완료 -->
	<select id="product_product" parameterType="String" resultType="provo">
  		select * from product where pro_code=#{code}
  	</select>
  	
  	
  	<!-- 완료 -->
  	<select id="product_bon" parameterType="String" resultType="provo">
  		select * from product where pro_name like #{name}
  	</select>
  	
  	<!-- 완료 -->
  	<select id="product_bon2" parameterType="provo" resultType="provo">
  		select p.pro_name pro_name,sh.shop_name shop_name,s.sto_size sto_size,s.sto_amount  sto_amount from product p, stock s, shop sh where p.pro_code = s.sto_pronum and  sh.shop_num=sto_shopnum and  p.pro_code = #{code} and sh.shop_num = #{num} 
  	</select>
  	
  	
  
  	
	
	
</mapper>