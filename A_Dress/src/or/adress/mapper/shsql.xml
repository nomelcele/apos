<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="sh">

	<!-- 파라미터타입, 리설트타입 모르겠음 -->
	<!-- 쿼리문도 좀 이상함... -->
	<select id="sh_list" parameterType="map" resultType="bvo">
		select * from shop where shop_num like shop_name or shop_name like shop_num
	</select>

	<!-- 물어볼것! -->
	<!-- 완료 확인요망 -->
	<select id="sh_listmember" parameterType="memvo"
		resultType="memvo">
		select * from member where mem_name like #{name} or mem_tel like #{name}
	</select>
	
	<!-- 완료 확인요망 -->
	<select id="sh_listproduct" parameterType="map">
	select p.pro_code, p.pro_name, p.pro_price, s.sto_size, sh.shop_name, s.sto_amount, p.PRO_IMG, p.PRO_BARCODE from product p, stock s, shop sh where p.pro_code = s.sto_pronum and sh.shop_num=sto_shopnum and( p.pro_code like #{check} or p.pro_name like #{check}) and sh.shop_num = #{shopnum}
	</select>
	

	<!-- 물어볼것! 완료 확인요망 -->
	<select id="sh_suggestlist" parameterType="String">
		select pro_name, pro_code from product where pro_name like #{str3} or pro_code
		like #{str3}
	</select>
	
	<!-- 완료 망함 꼬임 ㅋㅋ -->
	<select id="sh_suggestlistmember" parameterType="String" resultType="memvo">
	select mem_name, mem_tel from member where mem_name like #{str3} or mem_tel like #{str3}
	</select>
	
	
	
	
	

	<!-- 물어볼 것 이상함.. -->
	<insert id="sh_insertmem" parameterType="map">
	insert into member values(member_seq.nextval,#{name},#{tel},#{post},#{adr3},#{adr4},0,sysdate,1,#{email})
	</insert>
	
	
	<!-- 물어볼것! -->
	<!-- 완료 -->
	<select id="sh_detail" parameterType="int" resultType="memvo">
	select * from member where mem_num=#{no}
	</select>
	
	
	<!-- 물어볼것! -->
	<update id="sh_finish" parameterType="map">
	update member set mem_tel=#{memtel},mem_addr=#{addr},mem_deaddr=#{deaddr},mem_mileage=#{mileage} where mem_num=#{num}
	</update>
	
	
	<!-- 물어볼 것 -->
	<delete id="sh_secede" parameterType="memvo">
	delete from member where mem_num=#{num}
  	</delete>
	
	

</mapper>